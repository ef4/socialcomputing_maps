<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBZnvqy9HEpG-LAQwm_AxDOegMciI9jgP4&libraries=geometry&sensor=false"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="{{URL_PREFIX}}static/js/d3.v3.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Raleway:200' rel='stylesheet' type='text/css'> 
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{{URL_PREFIX}}static/css/green.css"> </style>
    <script type="text/javascript" src="{{URL_PREFIX}}static/js/green.js"></script>
    <link href='http://fonts.googleapis.com/css?family=EB+Garamond' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css">
    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.10.4/jquery-ui.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-47759411-2', 'youarehere.cc');
      ga('send', 'pageview');

    </script>
    
   <script type="text/javascript">


   var projection = d3.geo.mercator();
   var path = d3.geo.path().projection(projection); 
   var geoJSON;
   var greenData;
   var scaleFactor = 1.0;
   var svg;
   var segments;
   var streets;
   var canvas;
   var ctx;
   var boundary;
   $(window).load(function(){
    $('.container').css('width', '1100px');

    canvas = $('canvas');
    canvas.attr('height','625');
    canvas.attr('width','1100');
    ctx = canvas.get(0).getContext('2d');

    $.getJSON('{{URL_PREFIX}}static/data/Cambridge/boundary.geojson', function(boundaryGeoJson){
      boundary = boundaryGeoJson;
      setProjection();
      initialize();
      $.getJSON('{{URL_PREFIX}}static/data/Cambridge/green/greenery_test.json', function(greenJSON){
          greenData = greenJSON;
          segments = greenData['points'];
          streets = greenData['streets'];     
          drawPoints();
      });
    });
  });
     
   </script>
    </head>
    <body>
    <div class="container">
        <div class="title-container"> 
          <a id="logo" href="http://youarehere.media.mit.edu">
                <img src="{{URL_PREFIX}}static/img/logo_png24.png" style="width: 50px">
          </a>
          <div class="title-text">
                <h1 class="title">
                    <span id="mapClass" class="title-keyword"> Cambridge</span> 
                </h1>
                <div class="subtitle">
                    This map visualizes street greenery in Cambridge, MA
                    <span id="showMore"> ... more </span>
                </div>
          </div>
          <div class="spacer"></div>
        </div>

      <div id='mainframe'>
          <canvas id='canvasContainer'></canvas>
          <div id="svgContainer"></div>
          <p id='streetName'></p>
<!--           <div id='sliderContainer'>
            
            <div id="slider"></div>
          </div> -->
      </div>

      <div id="footer">
        This work is part of the <a href="http://youarehere.cc">You Are Here</a> project
        <span class="footer-plus">+</span>
        <a href="http://socialcomputing.media.mit.edu"> The Social Computing Group </a>
        <span class="footer-plus">+</span>
        <a href="http://media.mit.edu"> MIT Media Lab </a>
        <span class="footer-plus">+</span>
        <a href="http://mit.edu"> MIT</a>
      </div>

      <div id='essayBox'>
      <div id='essayBox-close' class="glyphicon glyphicon-remove"></div>
      <div id='essayContent'>
      <quote>
          <pre>
            "When great trees fall,
            rocks on distant hills shudder,
            lions hunker down
            in tall grasses,
            and even elephants
            lumber after safety.

            When great trees fall
            in forests,
            small things recoil into silence,
            their senses
            eroded beyond fear."

            -Maya Angelou
          </pre>
      </quote>


      <p>
        Much of the discussion around the relationship between humans and nature doesnâ€™t emphasize enough the fact that humans are nature.  As such we need nature, even in our most urban centers.  Trees can make a city feel alive, and areas with no trees can feel desolate.  
      </p>

      <p>
        This map visualizes the approximate amount of greenery on the streets in Cambridge.  This map works on two levels.  On the map, the relative amount of greenery at each point is represented by a marker's size and opacity.  At the city level, each street is assigned a score, and moving the slider at the bottom allows you to see the greenest streets.
      </p>

      <p> 
        To create these maps, we crawled Google Street View images, and then ran a simple probabilistic classifier to approximate the amount of visible plant life on a street.  These maps are approximate, in part because some street view photos were taken during the winter (for example, on Oxford Street).  But they give us a sense of which streets are full of life.
      </p>

        <p style="color:#898989;"> Data Sources </p>
        <ol>
          <li><a href="https://developers.google.com/maps/documentation/streetview/">Google Maps StreetView Image API </a></li>
          <li><a href="http://www.cambridgema.gov/GIS/gisdata/datadownload.aspx">Geographic Information Systems, City of Cambridge,MA </a></li>
        </ol>

      </div>
    </div> 


    </div>
    </body>

</html>
    